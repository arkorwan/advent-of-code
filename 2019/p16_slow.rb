q ="59712692690937920492680390886862131901538154314496197364022235676243731306353384700179627460533651346711155314756853419495734284609894966089975988246871687322567664499495407183657735571812115059436153203283165299263503632551949744441033411147947509168375383038493461562836199103303184064429083384309509676574941283043596285161244885454471652448757914444304449337194545948341288172476145567753415508006250059581738670546703862905469451368454757707996318377494042589908611965335468490525108524655606907405249860972187568380476703577532080056382150009356406585677577958020969940093556279280232948278128818920216728406595068868046480073694516140765535007"

skip = q[0..6].to_i
p skip

q *= 10000

#skip = 0

#q = "69317163492948606335995924319873"
#q = "12345678"

t = q.chars.map(&:to_i)


tm = Time.now

100.times{|rr|
	p [rr, Time.now - tm]
	a = [0]
	t.reverse.each{|e| a << a[-1] + e}
	a.reverse!

	c1 = Array.new(t.size/2, 0)
	c2 = Array.new(t.size/2, 0)
	c3 = Array.new(t.size/2, 0)
	c4 = Array.new(t.size/2, 0)
	
	
	(t.size-1).downto(t.size/2){|i| 
		t[i] = a[i] % 10
		c1[i/2] = a[i] if i%2 == 1
		#p [i, a[i], 0, 0, 0]
	}
	(t.size/2-1).downto(0){|i|
		step = 4 * (i + 1)
		k1 = k3 = 0
		
		j = i
		until j >= t.size
			k1 += a[j]
			j += step
		end

		k2 = c1[i] + c3[i]

		# j = 2*i + 1
		# until j >= t.size
		# 	k2 += a[j]
		# 	j += step
		# end

		j = 3*i + 2
		until j >= t.size
			k3 += a[j]
			j += step
		end

		k4 = c2[i] + c4[i]

		# j = 4*i + 3
		# until j >= t.size
		# 	k4 += a[j]
		# 	j += step
		# end

		if i%2 == 1
			c1[i/2] = k1
			c2[i/2] = k2
			c3[i/2] = k3
			c4[i/2] = k4
		end

		t[i] = (k1 - k2 - k3 + k4).abs % 10 
	}

#	p c1
	
}


# 67481260
#puts t[0..7].join

puts t[skip...skip+8].join

# puts t.join

#42178738
#[Finished in 706.6s]